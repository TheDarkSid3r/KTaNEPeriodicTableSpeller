const e="https://ktane.timwi.de",t=["VeryEasy","Easy","Medium","Hard","VeryHard"],a=e=>{return((e,t,a)=>{var n={r:0,g:0,b:0};return Object.keys(n).forEach(r=>n[r]=((e,t,a)=>255*(e+(t-e)*a))(e[r],t[r],a)),n})({r:0,g:1,b:0},{r:1,g:0,b:0},e/8)};$.getJSON(e+"/json/raw",n=>{$(".loader").fadeOut(200),$(".content").fadeIn(200);var r=n.KtaneModules.filter(e=>!e.TranslationOf&&e.Symbol);r.forEach(e=>{var a=[].concat(r);a.sort((e,t)=>new Date(e.Published)-new Date(t.Published)),e.Number=a.findIndex(t=>t.ModuleID==e.ModuleID)+1;var n=t.indexOf(e.ExpertDifficulty);n<0&&(n=0);var o=t.indexOf(e.DefuserDifficulty);o<0&&(o=0),e.Difficulty=n+o,e.AverageDifficulty=e.Difficulty/2}),console.log(r);Math.max(...r.map(e=>e.Symbol.length));const o=$(".word-input");var s=[];o.on("input",()=>{const t=(e=>{for(var t=[],a=e.toLowerCase().replace(/[^a-z0-9]/g,"").trim(),n=0;n<a.length;){for(var o=!1,s=a.length;s>n;s--){var l=a.substring(n,s),d=r.find(e=>e.Symbol.toLowerCase()==l);if(d){t.push(d),o=l;break}}!1===o?n++:n+=o.length}return t})(o.val()),n=(e=>e.map(e=>e.Symbol))(t);if(((e,t)=>JSON.stringify(e)==JSON.stringify(t))(n,s))return;const l=$(".elements-output").empty();t.forEach(t=>{var n=$("<div/>").addClass("element"),r=$("<img/>").addClass("element-icon").attr({src:e+"/Icons/"+encodeURIComponent(t.FileName||t.Name)+".png"}).on("error",()=>r.off("error").attr({src:e+"/Icons/blank.png"})).appendTo(n),o=a(t.Difficulty);$("<div/>").addClass("element-color").css({backgroundColor:`rgb(${o.r}, ${o.g}, ${o.b})`}).appendTo(n),$("<span/>").addClass("element-number").text(t.Number).appendTo(n),$("<span/>").addClass("element-symbol").text(t.Symbol).css({fontSize:[70,70,60,55,50][t.Symbol.length-1]}).appendTo(n),$("<span/>").addClass("element-name").text(t.Name).appendTo(n),$("<span/>").addClass("element-diff").text(t.AverageDifficulty+1).appendTo(n);var s=new Date(t.Published),d=s.getFullYear().toString(),i=[s.getDate(),d.substring(0,2),s.getMonth(),d.substring(2)];$("<span/>").addClass("element-date").text(i.join("-")).appendTo(n),l.append(n)}),s=n})});